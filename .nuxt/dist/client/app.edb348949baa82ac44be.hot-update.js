webpackHotUpdate("app",{

/***/ "./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib??ref--4-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Edit_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Edit.vue */ \"./components/crud/Edit.vue\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({auth:true,components:{Edit:_Edit_vue__WEBPACK_IMPORTED_MODULE_4__[\"default\"]},data:function data(){return{products:[],status:'',productId:'',yesterday:[],today:[],index:[],store:[],productsVisitors:[],cart:[],checkout:[]};},mounted:function mounted(){this.getProducts();this.getVisits();},methods:{getProducts:function getProducts(){var _this=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.$axios.get('/api/products').then(function(response){_this.products=response.data.data;});case 2:case\"end\":return _context.stop();}},_callee);}))();},getVisits:function getVisits(){var _this2=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.$axios.get('/api/visits').then(function(response){var visits=response.data;//filtra las visitas de ayer\n_this2.yesterday=visits.filter(function(visit){var date=new Date();var yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);return date.toDateString()>yesterday.toDateString();});});case 2:case\"end\":return _context2.stop();}},_callee2);}))();},onClick:function onClick(product){this.$modal.show('edit',product);},updateStatus:function updateStatus(product){var _this3=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(product.status==='Publicado')){_context3.next=5;break;}_context3.next=3;return _this3.$axios.put('/api/products/status/'+product.id,{status:'Borrador'}).then(function(res){_this3.$notify({title:'Estado del producto actualizado'});});case 3:_context3.next=7;break;case 5:_context3.next=7;return _this3.$axios.put('/api/products/status/'+product.id,{status:'Publicado'}).then(function(res){_this3.$notify({title:'Estado del producto actualizado'});});case 7:window.location.reload(true);case 8:case\"end\":return _context3.stop();}},_callee3);}))();},destroy:function destroy(id){var _this4=this;sweetalert2__WEBPACK_IMPORTED_MODULE_5___default.a.fire({title:'¿Estás seguro?',text:\"¡No podrás revertir esto!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'¡Sí, bórralo!'}).then(function(result){if(result.isConfirmed){_this4.$axios.delete('/api/products/'+id).then(function(res){_this4.$notify({title:'Producto eliminado'});window.location.reload(true);});}});}}});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW5wbHVnaW4vZGlzdC93ZWJwYWNrL2xvYWRlcnMvdHJhbnNmb3JtLmpzP3VucGx1Z2luTmFtZT1udXh0LWxlZ2FjeS12dWUtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL3VucGx1Z2luL2Rpc3Qvd2VicGFjay9sb2FkZXJzL3RyYW5zZm9ybS5qcz91bnBsdWdpbk5hbWU9bnV4dCUzQWltcG9ydHMtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy91bnBsdWdpbi9kaXN0L3dlYnBhY2svbG9hZGVycy90cmFuc2Zvcm0uanM/dW5wbHVnaW5OYW1lPW51eHQtbGVnYWN5LWNhcGkta2V5LXRyYW5zZm9ybSEuL2NvbXBvbmVudHMvY3J1ZC9BbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbXBvbmVudHMvY3J1ZC9BbGwudnVlPzlkNWUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgRWRpdCAgZnJvbSAnLi9FZGl0LnZ1ZSdcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYXV0aDogdHJ1ZSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgRWRpdCxcbiAgICB9LFxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9kdWN0czogW10sXG4gICAgICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgICAgICAgcHJvZHVjdElkOiAnJyxcbiAgICAgICAgICAgIHllc3RlcmRheTogW10sXG4gICAgICAgICAgICB0b2RheTogW10sXG4gICAgICAgICAgICBpbmRleDogW10sXG4gICAgICAgICAgICBzdG9yZTogW10sXG4gICAgICAgICAgICBwcm9kdWN0c1Zpc2l0b3JzOiBbXSxcbiAgICAgICAgICAgIGNhcnQ6IFtdLFxuICAgICAgICAgICAgY2hlY2tvdXQ6IFtdLFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG1vdW50ZWQoKSB7XG4gICAgICAgIHRoaXMuZ2V0UHJvZHVjdHMoKTtcbiAgICAgICAgdGhpcy5nZXRWaXNpdHMoKTtcbiAgICB9LFxuXG4gICAgbWV0aG9kczoge1xuICAgICAgICBhc3luYyBnZXRQcm9kdWN0cygpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLmdldCgnL2FwaS9wcm9kdWN0cycpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgYXN5bmMgZ2V0VmlzaXRzKCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCcvYXBpL3Zpc2l0cycpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aXNpdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvL2ZpbHRyYSBsYXMgdmlzaXRhcyBkZSBheWVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueWVzdGVyZGF5ID0gdmlzaXRzLmZpbHRlcih2aXNpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS50b0RhdGVTdHJpbmcoKSA+IHllc3RlcmRheS50b0RhdGVTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNsaWNrKHByb2R1Y3QpIHtcbiAgICAgICAgICAgIHRoaXMuJG1vZGFsLnNob3coJ2VkaXQnLCBwcm9kdWN0KTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIGFzeW5jIHVwZGF0ZVN0YXR1cyhwcm9kdWN0KSB7XG4gICAgICAgICAgICBpZiAocHJvZHVjdC5zdGF0dXMgPT09ICdQdWJsaWNhZG8nKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wdXQoJy9hcGkvcHJvZHVjdHMvc3RhdHVzLycgKyBwcm9kdWN0LmlkLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnQm9ycmFkb3InLFxuICAgICAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7dGl0bGU6ICdFc3RhZG8gZGVsIHByb2R1Y3RvIGFjdHVhbGl6YWRvJ30pfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnB1dCgnL2FwaS9wcm9kdWN0cy9zdGF0dXMvJyArIHByb2R1Y3QuaWQsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdQdWJsaWNhZG8nLFxuICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHt0aXRsZTogJ0VzdGFkbyBkZWwgcHJvZHVjdG8gYWN0dWFsaXphZG8nfSl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveShpZCkge1xuICAgICAgICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ8K/RXN0w6FzIHNlZ3Vybz8nLFxuICAgICAgICAgICAgICAgIHRleHQ6IFwiwqFObyBwb2Ryw6FzIHJldmVydGlyIGVzdG8hXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsXG4gICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJyxcbiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ8KhU8OtLCBiw7NycmFsbyEnXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLmRlbGV0ZSgnL2FwaS9wcm9kdWN0cy8nICsgaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoe3RpdGxlOiAnUHJvZHVjdG8gZWxpbWluYWRvJ30pXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgfSxcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMENBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js&\n");

/***/ })

})