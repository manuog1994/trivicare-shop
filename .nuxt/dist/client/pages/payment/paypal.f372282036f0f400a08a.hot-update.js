webpackHotUpdate("pages/payment/paypal",{

/***/ "./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./pages/payment/paypal.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib??ref--4-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./pages/payment/paypal.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"./node_modules/core-js/modules/es.string.iterator.js\");\n/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.number.to-fixed.js */ \"./node_modules/core-js/modules/es.number.to-fixed.js\");\n/* harmony import */ var core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({data:function data(){return{paypal:null,load:false};},beforeMount:function beforeMount(){if(this.paypalPage==false){this.$router.push('/checkout');}else{this.loadPaypal();}},components:{HeaderCheckout:function HeaderCheckout(){return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/header/HeaderCheckout.vue */ \"./components/header/HeaderCheckout.vue\"));},TheFooter:function TheFooter(){return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/TheFooter.vue */ \"./components/TheFooter.vue\"));},Paypal:function Paypal(){return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/checkout/Paypal.vue */ \"./components/checkout/Paypal.vue\"));}},computed:{total:function total(){return this.$store.getters.getTotal*1.21;},shipping:function shipping(){return this.$store.getters.getShippingAmount;},order_id:function order_id(){return this.$store.getters.getOrderId;},paypalPage:function paypalPage(){return this.$store.getters.getPaypalPage;}},methods:{makeToken:function makeToken(length){var result='';var characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';var charactersLength=characters.length;for(var i=0;i<length;i++){result+=characters.charAt(Math.floor(Math.random()*charactersLength));}document.cookie=\"token_payment=\"+result+\"; path=/success; \"+\"expires=\"+new Date(Date.now()+60000).toUTCString();},loadPaypal:function loadPaypal(){var _this=this;paypal.Buttons({// Sets up the transaction when a payment button is clicked\ncreateOrder:function createOrder(data,actions){return actions.order.create({purchase_units:[{description:'Compra en Trivicare.com',amount:{value:(_this.total+_this.shipping).toFixed(2)// Can also reference a variable or function\n}}]});},// Finalize the transaction after payer approval\nonApprove:function onApprove(data,actions){var axios=_this.$axios;var order_id=_this.order_id;_this.makeToken(20);return actions.order.capture().then(function(orderData){// Successful capture! For dev/demo purposes:\n//console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));\nvar transaction=orderData.purchase_units[0].payments.captures[0];var token_id=transaction.id;axios.post('/api/order-paid-paypal/'+token_id,{order_id:order_id,token_id:token_id});actions.redirect(\"http://localhost:3000\"+'/success?payment_intent_client_secret='+transaction.id);});}}).render('#paypal-button-container');}},head:function head(){return{titleTemplate:\"Pago con Paypal | TriviCare Natural Cosmetics\",script:[{src:'https://www.paypal.com/sdk/js?client-id='+\"AezG3YQ0iS0ugtoBRA05497Vkyj9B26Qf4sIrSJoxWrEk5Y9EXn2mDhACSAX1UgIQQxAmAwV_MvZttp6\"+'&currency=EUR&disable-funding=sofort,card&enable-funding=paylater&locale=es_ES',async:true}]};}});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW5wbHVnaW4vZGlzdC93ZWJwYWNrL2xvYWRlcnMvdHJhbnNmb3JtLmpzP3VucGx1Z2luTmFtZT1udXh0LWxlZ2FjeS12dWUtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL3VucGx1Z2luL2Rpc3Qvd2VicGFjay9sb2FkZXJzL3RyYW5zZm9ybS5qcz91bnBsdWdpbk5hbWU9bnV4dCUzQWltcG9ydHMtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy91bnBsdWdpbi9kaXN0L3dlYnBhY2svbG9hZGVycy90cmFuc2Zvcm0uanM/dW5wbHVnaW5OYW1lPW51eHQtbGVnYWN5LWNhcGkta2V5LXRyYW5zZm9ybSEuL3BhZ2VzL3BheW1lbnQvcGF5cGFsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcGF5cGFsLnZ1ZT9mYTJjIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgICA8ZGl2PlxuICAgICAgICA8SGVhZGVyQ2hlY2tvdXQgLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBwdC0xMDAgcGItMTAwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9wYXltZW50L3BheXBhbC5zdmdcIiBhbHQ9XCJsb2dvIGRlIHBheXBhbFwiIHdpZHRoPVwiMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5QdWxzZSBlbCBib3TDs24gcXVlIHNlYSBkZSBzdSBwcmVmZXJlbmNpYSBwYXJhIGVsIG1vZG8gZGUgcGFnbyB5IHNpZ2EgbGFzIGluZGljYWNpb25lcyBxdWUgbGUgbXVlc3RyYSBQYXlwYWwsIGN1YW5kbyBlbCBwZWRpZG8gc2VhIGNvbmZpcm1hZG8gc2Vyw6EgcmVkaXJpZ2lkbyBjb24gbGEgY29uZmlybWFjacOzbiBvIGNhbmNlbGFjacOzbiBkZSBzdSBwZWRpZG8uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgbXQtMlwiIGlkPVwicGF5cGFsLWJ1dHRvbi1jb250YWluZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFRoZUZvb3RlciAvPlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBcbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGF5cGFsOiBudWxsLFxuICAgICAgICAgICAgbG9hZDogZmFsc2UsXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmVmb3JlTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBheXBhbFBhZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY2hlY2tvdXQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9hZFBheXBhbCgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgSGVhZGVyQ2hlY2tvdXQ6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2hlYWRlci9IZWFkZXJDaGVja291dC52dWUnKSxcbiAgICAgICAgVGhlRm9vdGVyOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9UaGVGb290ZXIudnVlJyksXG4gICAgICAgIFBheXBhbDogKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvY2hlY2tvdXQvUGF5cGFsLnZ1ZScpLFxuICAgIH0sXG4gICAgXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgdG90YWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRUb3RhbCAqIDEuMjE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hpcHBpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTaGlwcGluZ0Ftb3VudDtcbiAgICAgICAgfSxcblxuICAgICAgICBvcmRlcl9pZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE9yZGVySWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGF5cGFsUGFnZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBheXBhbFBhZ2U7XG4gICAgICAgIH0sXG5cbiAgICB9LFxuXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICAgIG1ha2VUb2tlbihsZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSAnJztcbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gXCJ0b2tlbl9wYXltZW50PVwiICsgcmVzdWx0ICsgXCI7IHBhdGg9L3N1Y2Nlc3M7IFwiICsgXCJleHBpcmVzPVwiICsgbmV3IERhdGUoRGF0ZS5ub3coKSArIDYwMDAwKS50b1VUQ1N0cmluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWRQYXlwYWwoKSB7XG4gICAgICAgICAgICBwYXlwYWwuQnV0dG9ucyh7XG4gICAgICAgICAgICAgICAgLy8gU2V0cyB1cCB0aGUgdHJhbnNhY3Rpb24gd2hlbiBhIHBheW1lbnQgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcjogKGRhdGEsIGFjdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMub3JkZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlX3VuaXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogJ0NvbXByYSBlbiBUcml2aWNhcmUuY29tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICh0aGlzLnRvdGFsICsgdGhpcy5zaGlwcGluZykudG9GaXhlZCgyKSwgLy8gQ2FuIGFsc28gcmVmZXJlbmNlIGEgdmFyaWFibGUgb3IgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZpbmFsaXplIHRoZSB0cmFuc2FjdGlvbiBhZnRlciBwYXllciBhcHByb3ZhbFxuICAgICAgICAgICAgICAgIG9uQXBwcm92ZTogKGRhdGEsIGFjdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXhpb3MgPSB0aGlzLiRheGlvcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JkZXJfaWQgPSB0aGlzLm9yZGVyX2lkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VUb2tlbigyMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLm9yZGVyLmNhcHR1cmUoKS50aGVuKGZ1bmN0aW9uKG9yZGVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VjY2Vzc2Z1bCBjYXB0dXJlISBGb3IgZGV2L2RlbW8gcHVycG9zZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDYXB0dXJlIHJlc3VsdCcsIG9yZGVyRGF0YSwgSlNPTi5zdHJpbmdpZnkob3JkZXJEYXRhLCBudWxsLCAyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IG9yZGVyRGF0YS5wdXJjaGFzZV91bml0c1swXS5wYXltZW50cy5jYXB0dXJlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuX2lkID0gdHJhbnNhY3Rpb24uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCcvYXBpL29yZGVyLXBhaWQtcGF5cGFsLycgKyB0b2tlbl9pZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBvcmRlcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbl9pZDogdG9rZW5faWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5yZWRpcmVjdCggcHJvY2Vzcy5lbnYudXJsICsgJy9zdWNjZXNzP3BheW1lbnRfaW50ZW50X2NsaWVudF9zZWNyZXQ9JyArIHRyYW5zYWN0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5yZW5kZXIoJyNwYXlwYWwtYnV0dG9uLWNvbnRhaW5lcicpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICB9LFxuXG4gICAgaGVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlVGVtcGxhdGU6IFwiUGFnbyBjb24gUGF5cGFsIHwgVHJpdmlDYXJlIE5hdHVyYWwgQ29zbWV0aWNzXCIsXG4gICAgICAgICAgICBzY3JpcHQ6IFtcbiAgICAgICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgICAgICBzcmM6ICdodHRwczovL3d3dy5wYXlwYWwuY29tL3Nkay9qcz9jbGllbnQtaWQ9JyArIHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgKyAnJmN1cnJlbmN5PUVVUiZkaXNhYmxlLWZ1bmRpbmc9c29mb3J0LGNhcmQmZW5hYmxlLWZ1bmRpbmc9cGF5bGF0ZXImbG9jYWxlPWVzX0VTJyxcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG59XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXG48L3N0eWxlPiJdLCJtYXBwaW5ncyI6IkFBNkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeURBO0FBTUE7QUFLQTtBQU1BO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./pages/payment/paypal.vue?vue&type=script&lang=js&\n");

/***/ })

})