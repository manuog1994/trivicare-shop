(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{492:function(e,t,r){e.exports={}},501:function(e,t,r){"use strict";r(492)},506:function(e,t,r){"use strict";r.r(t);r(19),r(32);var n=r(4),o=(r(63),{props:["product","reviews"],data:function(){return{message:"",rating:0,user_name:"",user_lastname:""}},methods:{createReview:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("/api/reviews",{user_id:e.$auth.user.id,product_id:e.product.id,message:e.message,rating:e.rating,user_name:e.user_name,user_lastname:e.user_lastname});case 3:t.sent,e.message="",e.rating=0,e.$notify({text:"Valoración creada correctamente",type:"success"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},deleteReview:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$axios.delete("/api/reviews/"+e);case 3:r.sent,t.$notify({text:"Valoración eliminada correctamente",type:"success"}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}),c=(r(501),r(81)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return e.product?t("div",{staticClass:"description-review-area pb-90"},[t("div",{staticClass:"container"},[t("div",{staticClass:"description-review-wrapper"},[t("div",{staticClass:"description-review-topbar nav"},[t("a",{attrs:{"data-bs-toggle":"tab",href:"#des-details1"}},[e._v("Información adicional")]),e._v(" "),t("a",{staticClass:"active",attrs:{"data-bs-toggle":"tab",href:"#des-details2"}},[e._v("Descripción")]),e._v(" "),t("a",{attrs:{"data-bs-toggle":"tab",href:"#des-details3"}},[e._v("Reviews ( "+e._s(e.product.reviews.length)+" )")])]),e._v(" "),t("div",{staticClass:"tab-content description-review-bottom"},[t("div",{staticClass:"tab-pane active",attrs:{id:"des-details2"}},[t("div",{staticClass:"product-description-wrapper"},[t("p",[e._v(e._s(e.product.description))]),e._v(" "),t("p",[e._v(e._s(e.product.specifications))])])]),e._v(" "),t("div",{staticClass:"tab-pane",attrs:{id:"des-details1"}},[t("div",{staticClass:"product-anotherinfo-wrapper"},[t("ul",[t("li",[t("span",[e._v("Peso")]),e._v(e._s(e.product.weight))]),e._v(" "),t("li",[t("span",[e._v("Dimensiones")]),e._v(e._s(e.product.size))]),e._v(" "),t("li",[t("span",[e._v("Materiales")]),e._v(e._s(e.product.specifications))])])])]),e._v(" "),t("div",{ref:"review-div",staticClass:"tab-pane",attrs:{id:"des-details3"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-7"},[t("client-only",e._l(e.reviews,(function(r){return t("div",{key:"review-"+r.id,staticClass:"review-wrapper"},[t("div",{staticClass:"single-review"},[t("div",{staticClass:"review-img"},[t("img",{attrs:{src:"/img/testimonial/1.jpg",alt:""}})]),e._v(" "),t("div",{staticClass:"review-content"},[t("div",{staticClass:"review-top-wrap"},[t("div",{staticClass:"review-left"},[t("div",{staticClass:"review-name"},[t("h4",[e._v(e._s(r.user_name)+" "+e._s(r.user_lastname))])]),e._v(" "),t("div",{staticClass:"review-rating"},[t("vue-star-rating",{attrs:{"star-size":20,"read-only":!0,"show-rating":!1,rating:r.rating}})],1)])]),e._v(" "),t("div",{staticClass:"review-bottom"},[t("p",[e._v(e._s(r.message))])]),e._v(" "),e.$auth.user&&e.$auth.user.id==r.user_id?t("form",{on:{submit:function(t){return e.deleteReview(r.id)}}},[t("div",{staticClass:"review-delete"},[t("button",{staticClass:"btn"},[e._v("Eliminar")])])]):e._e()])])])})),0)],1),e._v(" "),t("div",{staticClass:"col-lg-5"},[e.$auth.user?t("div",{staticClass:"ratting-form-wrapper pl-50"},[t("h3",[e._v("Añadir una valoración")]),e._v(" "),t("div",{staticClass:"ratting-form"},[t("form",[t("div",{staticClass:"star-box"},[t("span",[e._v("Valoración:")]),e._v(" "),t("div",{staticClass:"ratting-star"},[t("vue-star-rating",{attrs:{"star-size":20},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1)]),e._v(" "),t("div",{staticClass:"row"},[e.$auth.user.user_profile[0]?e._e():t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"rating-form-style mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user_name,expression:"user_name"}],attrs:{placeholder:"Nombre",type:"text",required:""},domProps:{value:e.user_name},on:{input:function(t){t.target.composing||(e.user_name=t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"rating-form-style mb-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user_lastname,expression:"user_lastname"}],attrs:{placeholder:"Apellidos",type:"text",required:""},domProps:{value:e.user_lastname},on:{input:function(t){t.target.composing||(e.user_lastname=t.target.value)}}})])])]),e._v(" "),t("div",{staticClass:"col-md-12"},[t("form",{on:{submit:e.createReview}},[t("div",{staticClass:"rating-form-style form-submit"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{name:"Your Review",placeholder:"Escribe aquí tu valoración..."},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),t("button",{staticClass:"btn btn-light",attrs:{type:"submit"}},[e._v("Enviar")])])])])])])])]):e._e()])])])])])])]):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);