(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{583:function(t,e,r){"use strict";r.r(e);r(37),r(40),r(35);var n=r(4),o=(r(63),r(76),{auth:!0,data:function(){return{inputTag:[],images:[],tags:[]}},computed:{categories:function(){return this.$store.state.categories}},mounted:function(){var t=this;setTimeout((function(){t.getTags()}),1e3)},methods:{getCategories:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getCategories");case 2:case"end":return e.stop()}}),e)})))()},getTags:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("api/tags").then((function(e){t.tags=e.data.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},groupImages:function(t){this.images=t.target.files},newProduct:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((r=new FormData(t.$refs.productform)).append("tags",JSON.stringify(t.inputTag)),n=t.images,i=0;i<n.length;i++)r.append("images[]",n[i]);return e.next=6,t.$axios.post("/api/products/",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$refs.productform.reset(),t.$notify({title:"El producto se ha creado correctamente",type:"success"})})).catch((function(e){console.log(e),t.$notify({title:"Ha ocurrido un error",type:"error"})}));case 6:case"end":return e.stop()}}),e)})))()}}}),c=r(81),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mt-5"},[e("div",{staticClass:"w-50 m-auto"},[e("form",{ref:"productform",staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.newProduct.apply(null,arguments)}}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),e("div",{staticClass:"col-4 mb-2"},[e("label",{attrs:{for:"category"}},[t._v("Categoría")]),t._v(" "),e("select",{staticClass:"form-select",attrs:{name:"category_id"}},t._l(t.categories,(function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v(t._s(r.name))])})),0)]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),e("div",{staticClass:"border-bottom-1 mb-3"},[t._m(11),t._v(" "),e("div",{staticClass:"row mt-2 mb-2"},t._l(t.tags,(function(r){return e("div",{key:r.id,staticClass:"form-check col-3 mb-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTag,expression:"inputTag"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"flexCheckDefault"},domProps:{value:r.id,checked:Array.isArray(t.inputTag)?t._i(t.inputTag,r.id)>-1:t.inputTag},on:{change:function(e){var n=t.inputTag,o=e.target,c=!!o.checked;if(Array.isArray(n)){var l=r.id,m=t._i(n,l);o.checked?m<0&&(t.inputTag=n.concat([l])):m>-1&&(t.inputTag=n.slice(0,m).concat(n.slice(m+1)))}else t.inputTag=c}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"flexCheckDefault"}},[t._v("\n                                    "+t._s(r.name)+"\n                                ")])])})),0)]),t._v(" "),e("div",{staticClass:"border-bottom-1 mb-4 pb-3"},[e("div",{staticClass:"row"},[t._m(12),t._v(" "),e("div",{staticClass:"mb-2"},[e("label",{attrs:{for:"images"}},[t._v("Imágenes")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"file",name:"files",multiple:""},on:{change:t.groupImages}})])])]),t._v(" "),t._m(13)])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mb-2"},[e("label",{attrs:{for:"title"}},[t._v("Título")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",name:"name"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mb-2"},[e("label",{attrs:{for:"description"}},[t._v("Descripción")]),t._v(" "),e("textarea",{staticClass:"form-control",attrs:{name:"description",id:"description"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 mb-2"},[e("label",{attrs:{for:"specifications"}},[t._v("Especificaciones")]),t._v(" "),e("textarea",{staticClass:"form-control",attrs:{name:"specifications",id:"specifications"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-3 mb-2"},[e("label",{attrs:{for:"price"}},[t._v("Precio")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"price",step:".01"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-3 mb-2"},[e("label",{attrs:{for:"stock"}},[t._v("\n                            Stock\n                        ")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"stock"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6 mb-2"},[e("label",{attrs:{for:"barcode"}},[t._v("Código de Barras")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"barcode"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-8 mb-2"},[e("label",{attrs:{for:"slug"}},[t._v("Slug")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",name:"slug"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-4 mb-2"},[e("label",{attrs:{for:"discount"}},[t._v("Descuento")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"discount",step:".01"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-4 mb-2"},[e("label",{attrs:{for:"weight"}},[t._v("Peso")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"weight",step:".01"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-4 mb-2"},[e("label",{attrs:{for:"size"}},[t._v("Tamaño")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"number",name:"size",step:".01"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 border-bottom-1 mb-2 pb-4"},[e("label",{attrs:{for:"dimensions"}},[t._v("Dimensiones")]),t._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",name:"dimensions"}})])},function(){var t=this._self._c;return t("div",[t("h2",{staticClass:"mt-3"},[this._v("Activos")])])},function(){var t=this._self._c;return t("div",{staticClass:"mb-2"},[t("h2",[this._v("Imágenes")])])},function(){var t=this._self._c;return t("div",{staticClass:"mb-5"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Crear Producto")])])}],!1,null,null,null);e.default=component.exports}}]);