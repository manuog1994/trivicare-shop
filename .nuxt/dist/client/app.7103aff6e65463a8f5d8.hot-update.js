webpackHotUpdate("app",{

/***/ "./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib??ref--4-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime.js */ \"./node_modules/regenerator-runtime/runtime.js\");\n/* harmony import */ var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Edit_vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Edit.vue */ \"./components/crud/Edit.vue\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sweetalert2 */ \"./node_modules/sweetalert2/dist/sweetalert2.all.js\");\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({auth:true,components:{Edit:_Edit_vue__WEBPACK_IMPORTED_MODULE_4__[\"default\"]},data:function data(){return{products:[],status:'',productId:'',yesterday:[],today:[],index:[],store:[],productsVisitors:[],cart:[],checkout:[]};},mounted:function mounted(){this.getProducts();this.getVisits();},methods:{getProducts:function getProducts(){var _this=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _this.$axios.get('/api/products').then(function(response){_this.products=response.data.data;});case 2:case\"end\":return _context.stop();}},_callee);}))();},getVisits:function getVisits(){var _this2=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this2.$axios.get('/api/visits').then(function(response){var visits=response.data;var date=new Date();visits.filter(function(visit){if(visit.created_at>date){console.log(visit);}else if(visit.created_at==='2021-07-02'){_this2.today.push(visit);}else if(visit.created_at==='2021-07-03'){_this2.index.push(visit);}else if(visit.created_at==='2021-07-04'){_this2.store.push(visit);}else if(visit.created_at==='2021-07-05'){_this2.productsVisitors.push(visit);}else if(visit.created_at==='2021-07-06'){_this2.cart.push(visit);}else if(visit.created_at==='2021-07-07'){_this2.checkout.push(visit);}});});case 2:case\"end\":return _context2.stop();}},_callee2);}))();},onClick:function onClick(product){this.$modal.show('edit',product);},updateStatus:function updateStatus(product){var _this3=this;return Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(product.status==='Publicado')){_context3.next=5;break;}_context3.next=3;return _this3.$axios.put('/api/products/status/'+product.id,{status:'Borrador'}).then(function(res){_this3.$notify({title:'Estado del producto actualizado'});});case 3:_context3.next=7;break;case 5:_context3.next=7;return _this3.$axios.put('/api/products/status/'+product.id,{status:'Publicado'}).then(function(res){_this3.$notify({title:'Estado del producto actualizado'});});case 7:window.location.reload(true);case 8:case\"end\":return _context3.stop();}},_callee3);}))();},destroy:function destroy(id){var _this4=this;sweetalert2__WEBPACK_IMPORTED_MODULE_5___default.a.fire({title:'¿Estás seguro?',text:\"¡No podrás revertir esto!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'¡Sí, bórralo!'}).then(function(result){if(result.isConfirmed){_this4.$axios.delete('/api/products/'+id).then(function(res){_this4.$notify({title:'Producto eliminado'});window.location.reload(true);});}});}}});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW5wbHVnaW4vZGlzdC93ZWJwYWNrL2xvYWRlcnMvdHJhbnNmb3JtLmpzP3VucGx1Z2luTmFtZT1udXh0LWxlZ2FjeS12dWUtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL3VucGx1Z2luL2Rpc3Qvd2VicGFjay9sb2FkZXJzL3RyYW5zZm9ybS5qcz91bnBsdWdpbk5hbWU9bnV4dCUzQWltcG9ydHMtdHJhbnNmb3JtIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPyEuL25vZGVfbW9kdWxlcy91bnBsdWdpbi9kaXN0L3dlYnBhY2svbG9hZGVycy90cmFuc2Zvcm0uanM/dW5wbHVnaW5OYW1lPW51eHQtbGVnYWN5LWNhcGkta2V5LXRyYW5zZm9ybSEuL2NvbXBvbmVudHMvY3J1ZC9BbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbXBvbmVudHMvY3J1ZC9BbGwudnVlPzlkNWUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgRWRpdCAgZnJvbSAnLi9FZGl0LnZ1ZSdcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYXV0aDogdHJ1ZSxcblxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgRWRpdCxcbiAgICB9LFxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9kdWN0czogW10sXG4gICAgICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgICAgICAgcHJvZHVjdElkOiAnJyxcbiAgICAgICAgICAgIHllc3RlcmRheTogW10sXG4gICAgICAgICAgICB0b2RheTogW10sXG4gICAgICAgICAgICBpbmRleDogW10sXG4gICAgICAgICAgICBzdG9yZTogW10sXG4gICAgICAgICAgICBwcm9kdWN0c1Zpc2l0b3JzOiBbXSxcbiAgICAgICAgICAgIGNhcnQ6IFtdLFxuICAgICAgICAgICAgY2hlY2tvdXQ6IFtdLFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG1vdW50ZWQoKSB7XG4gICAgICAgIHRoaXMuZ2V0UHJvZHVjdHMoKTtcbiAgICAgICAgdGhpcy5nZXRWaXNpdHMoKTtcbiAgICB9LFxuXG4gICAgbWV0aG9kczoge1xuICAgICAgICBhc3luYyBnZXRQcm9kdWN0cygpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLmdldCgnL2FwaS9wcm9kdWN0cycpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgYXN5bmMgZ2V0VmlzaXRzKCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCcvYXBpL3Zpc2l0cycpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aXNpdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaXRzLmZpbHRlcih2aXNpdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlzaXQuY3JlYXRlZF9hdCA+IGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2aXNpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpc2l0LmNyZWF0ZWRfYXQgPT09ICcyMDIxLTA3LTAyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9kYXkucHVzaCh2aXNpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpc2l0LmNyZWF0ZWRfYXQgPT09ICcyMDIxLTA3LTAzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucHVzaCh2aXNpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpc2l0LmNyZWF0ZWRfYXQgPT09ICcyMDIxLTA3LTA0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUucHVzaCh2aXNpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpc2l0LmNyZWF0ZWRfYXQgPT09ICcyMDIxLTA3LTA1Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdHNWaXNpdG9ycy5wdXNoKHZpc2l0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmlzaXQuY3JlYXRlZF9hdCA9PT0gJzIwMjEtMDctMDYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0LnB1c2godmlzaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aXNpdC5jcmVhdGVkX2F0ID09PSAnMjAyMS0wNy0wNycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrb3V0LnB1c2godmlzaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DbGljayhwcm9kdWN0KSB7XG4gICAgICAgICAgICB0aGlzLiRtb2RhbC5zaG93KCdlZGl0JywgcHJvZHVjdCk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICBhc3luYyB1cGRhdGVTdGF0dXMocHJvZHVjdCkge1xuICAgICAgICAgICAgaWYgKHByb2R1Y3Quc3RhdHVzID09PSAnUHVibGljYWRvJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MucHV0KCcvYXBpL3Byb2R1Y3RzL3N0YXR1cy8nICsgcHJvZHVjdC5pZCwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ0JvcnJhZG9yJyxcbiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoe3RpdGxlOiAnRXN0YWRvIGRlbCBwcm9kdWN0byBhY3R1YWxpemFkbyd9KX0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wdXQoJy9hcGkvcHJvZHVjdHMvc3RhdHVzLycgKyBwcm9kdWN0LmlkLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnUHVibGljYWRvJyxcbiAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7dGl0bGU6ICdFc3RhZG8gZGVsIHByb2R1Y3RvIGFjdHVhbGl6YWRvJ30pfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGRlc3Ryb3koaWQpIHtcbiAgICAgICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfCv0VzdMOhcyBzZWd1cm8/JyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIsKhTm8gcG9kcsOhcyByZXZlcnRpciBlc3RvIVwiLFxuICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJyxcbiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLFxuICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsXG4gICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfCoVPDrSwgYsOzcnJhbG8hJ1xuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5kZWxldGUoJy9hcGkvcHJvZHVjdHMvJyArIGlkKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHt0aXRsZTogJ1Byb2R1Y3RvIGVsaW1pbmFkbyd9KVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgIH0sXG59XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-vue-transform!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt%3Aimports-transform!./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=nuxt-legacy-capi-key-transform!./components/crud/All.vue?vue&type=script&lang=js&\n");

/***/ })

})